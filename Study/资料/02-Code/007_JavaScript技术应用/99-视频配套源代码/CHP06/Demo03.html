<!--  
{"result":"1"} --可用
{"result":"0"} --不可用
数据平台：https://www.fastmock.site
返回数据：
{
  "result":function({_req, Mock})
  {
    let body = _req.body;
    if(body.acc == "zhoujielun")
      return "0";
    else
      return "1";
  }
}
-->
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Ajax检查用户名是否存在</title>
		<script type="text/javascript">
			function CheckAcc()
			{
				var acc = document.getElementById("txtAccount").value;
				var ajax = new XMLHttpRequest();
				ajax.open("POST","https://www.fastmock.site/mock/06492f38e791d869ea222ba9698d7a5e/API/ck2");
				ajax.setRequestHeader("Content-type","application/x-www-form-urlencoded");
				ajax.send("acc="+acc);
				ajax.onreadystatechange=function()
				{
					if(ajax.readyState==4 && ajax.status==200)
					{
						var json = JSON.parse(ajax.responseText);
						if(json.result == "1")
							alert("恭喜您,该用户名可以使用！");
						else
							alert("很遗憾,该用户名被占用！");
					}
				}
			}
		</script>
	</head>
	<body>
		<form action="#">
		<table width="1000" align="center">
			<caption>用户注册</caption>
			<tr>
				<td width="300" align="right" height="30">用户名:</td>
				<td width="700">
					<input type="text" id="txtAccount">
					<input type="button" value="检查用户名是否存在" onclick="CheckAcc();">
				</td>
			</tr>
			<tr>
				<td width="300" align="right" height="30">昵称:</td>
				<td width="700">
					<input type="text" id="txtNickName">
				</td>
			</tr>
			<tr>
				<td width="300" align="right" height="30">密码:</td>
				<td width="700">
					<input type="password" id="txtPwd">
				</td>
			</tr>
			<tr>
				<td width="300" align="right" height="30">密码确认:</td>
				<td width="700">
					<input type="password" id="txtPwdOk">
				</td>
			</tr>
			<tr>
				<td width="300" align="right" height="30">&nbsp;</td>
				<td width="700">
					<input type="submit" value="注册" />
					<input type="reset" value="取消" />
				</td>
			</tr>
		</table>
		</form>	
	</body>
</html>


